From 1dc1d331e499d8e0216bb0efb13d29dbc57d106c Mon Sep 17 00:00:00 2001
From: Your Name <Your Email>
Date: Wed, 2 Sep 2015 10:44:54 +0200
Subject: [PATCH 3/5] geam6ul-configured-audio-mclk-for-sgtl5000

---
 arch/arm/cpu/armv7/mx6/clock.c  |    1 -
 board/engicam/geam6ul/geam6ul.c |    7 +++++++
 2 files changed, 7 insertions(+), 1 deletion(-)

diff --git a/arch/arm/cpu/armv7/mx6/clock.c b/arch/arm/cpu/armv7/mx6/clock.c
index 1ef307a..b93314b 100644
--- a/arch/arm/cpu/armv7/mx6/clock.c
+++ b/arch/arm/cpu/armv7/mx6/clock.c
@@ -861,7 +861,6 @@ int enable_fec_anatop_clock(int fec_id, enum enet_freq freq)
 		return -EINVAL;
 
 	reg = readl(&anatop->pll_enet);
-	reg &= ~BM_ANADIG_PLL_ENET_DIV_SELECT;
 
 	if (0 == fec_id) {
 		reg &= ~BM_ANADIG_PLL_ENET_DIV_SELECT;
diff --git a/board/engicam/geam6ul/geam6ul.c b/board/engicam/geam6ul/geam6ul.c
index 5371e0b..bcbabd6 100644
--- a/board/engicam/geam6ul/geam6ul.c
+++ b/board/engicam/geam6ul/geam6ul.c
@@ -83,6 +83,7 @@ DECLARE_GLOBAL_DATA_PTR;
 	PAD_CTL_SPEED_MED |		\
 	PAD_CTL_DSE_40ohm | PAD_CTL_SRE_FAST)
 
+#define CKO_CLK_PAD_CTRL  (PAD_CTL_DSE_40ohm   | PAD_CTL_SRE_FAST)
 
 #define IOX_SDI IMX_GPIO_NR(5, 10)
 #define IOX_STCP IMX_GPIO_NR(5, 7)
@@ -100,6 +101,11 @@ static iomux_v3_cfg_t const iox_pads[] = {
 	MX6_PAD_SNVS_TAMPER8__GPIO5_IO08 | MUX_PAD_CTRL(NO_PAD_CTRL),
 };
 
+static iomux_v3_cfg_t const cko_pads[] = {
+	/* CCM_CLKO1 */
+	MX6_PAD_JTAG_TMS__CCM_CLKO1 | MUX_PAD_CTRL(CKO_CLK_PAD_CTRL),
+};
+
 /*
  * HDMI_nRST --> Q0
  * ENET1_nRST --> Q1
@@ -740,6 +746,7 @@ int board_init(void)
 	gd->bd->bi_boot_params = PHYS_SDRAM + 0x100;
 
 	imx_iomux_v3_setup_multiple_pads(iox_pads, ARRAY_SIZE(iox_pads));
+	imx_iomux_v3_setup_multiple_pads(cko_pads, ARRAY_SIZE(cko_pads));
 
 	iox74lv_init();
 
-- 
1.7.9.5

