From 374dd872f9799f9b7fcf8a6fdb625be3396104da Mon Sep 17 00:00:00 2001
From: Your Name <Your Email>
Date: Mon, 5 Oct 2015 18:21:37 +0200
Subject: [PATCH 09/27] Tested-SGTL5000-driver-on-i.Core-M6

---
 arch/arm/boot/dts/imx6dl-icore.dts   |    1 +
 arch/arm/boot/dts/imx6qdl-icore.dtsi |   16 +++++++++++-----
 arch/arm/boot/dts/imx6qdl.dtsi       |    2 +-
 3 files changed, 13 insertions(+), 6 deletions(-)

diff --git a/arch/arm/boot/dts/imx6dl-icore.dts b/arch/arm/boot/dts/imx6dl-icore.dts
index 0fd3b57..a4708de 100644
--- a/arch/arm/boot/dts/imx6dl-icore.dts
+++ b/arch/arm/boot/dts/imx6dl-icore.dts
@@ -60,6 +60,7 @@
 		clocks = <&clks 201>;
 		VDDA-supply = <&reg_2p5v>;
 		VDDIO-supply = <&reg_3p3v>;
+		VDDD-supply = <&reg_1p8v>;
 	};
 
 
diff --git a/arch/arm/boot/dts/imx6qdl-icore.dtsi b/arch/arm/boot/dts/imx6qdl-icore.dtsi
index 9891ca0..b8101ca 100644
--- a/arch/arm/boot/dts/imx6qdl-icore.dtsi
+++ b/arch/arm/boot/dts/imx6qdl-icore.dtsi
@@ -29,16 +29,14 @@
 		default-brightness-level = <7>;
 	};
 
-
 	clocks {
 		codec_osc: anaclk2 {
 			compatible = "fixed-clock";
 			#clock-cells = <0>;
-			clock-frequency = <24576000>;
+			clock-frequency = <24000000>;
 		};
 	};
 
-
 	mxcfb1: fb@0 {
 		compatible = "fsl,mxc_sdc_fb";
 		disp_dev = "ldb";
@@ -132,6 +130,14 @@
 			regulator-always-on;
 		};
 
+		reg_1p8v: 1p8v {
+			compatible = "regulator-fixed";
+			regulator-name = "1P8V";
+			regulator-min-microvolt = <1800000>;
+			regulator-max-microvolt = <1800000>;
+			regulator-always-on;
+		};
+
 		reg_sd3_vmmc: sd3_vmmc{
 			compatible = "regulator-fixed";
 			regulator-name = "P3V3_SDa_SWITCHED";
@@ -154,7 +160,7 @@
 			"MIC_IN", "Mic Jack",
 			"Mic Jack", "Mic Bias",
 			"Headphone Jack", "HP_OUT";
-		mux-int-port = <2>;
+		mux-int-port = <1>;
 		mux-ext-port = <4>;
 	};
 
@@ -291,7 +297,7 @@
 };
 
 &ssi1 {
-	fsl,mode = "i2s-master";
+	fsl,mode = "i2s-slave";
 	status = "okay";
 };
 
diff --git a/arch/arm/boot/dts/imx6qdl.dtsi b/arch/arm/boot/dts/imx6qdl.dtsi
index 255288e..34cf74b 100644
--- a/arch/arm/boot/dts/imx6qdl.dtsi
+++ b/arch/arm/boot/dts/imx6qdl.dtsi
@@ -334,7 +334,7 @@
 					dma-names = "rx", "tx";
 					fsl,fifo-depth = <15>;
 					fsl,ssi-dma-events = <38 37>;
-					status = "disabled";
+					status = "okay";
 				};
 
 				ssi2: ssi@0202c000 {
-- 
1.7.9.5

